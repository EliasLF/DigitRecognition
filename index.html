<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Digit recognition with CNN</title>
  
  
  <link rel="icon" type="image/svg+xml" href="../logo/favicon.svg" sizes="any">
		<meta name="application-name" content="Digit recognition with CNN">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-title" content="Digit recognition with CNN">
		<meta name="msapplication-TileColor" content="#aaa">
		<meta name="theme-color" content="#aaa">
		<meta name="apple-mobile-web-app-status-bar-style" content="#aaa">
		<meta name="msapplication-config" content="../logo/browserconfig.xml?v=190925022706">
		<link rel="apple-touch-icon" sizes="57x57" href="../logo/apple-touch-icon-57x57.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="60x60" href="../logo/apple-touch-icon-60x60.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="72x72" href="../logo/apple-touch-icon-72x72.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="76x76" href="../logo/apple-touch-icon-76x76.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="114x114" href="../logo/apple-touch-icon-114x114.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="120x120" href="../logo/apple-touch-icon-120x120.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="144x144" href="../logo/apple-touch-icon-144x144.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="152x152" href="../logo/apple-touch-icon-152x152.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="180x180" href="../logo/apple-touch-icon-180x180.png?v=190925022706">
		<link rel="icon" type="image/png" href="../logo/android-chrome-36x36.png?v=190925022706" sizes="36x36">
		<link rel="icon" type="image/png" href="../logo/android-chrome-48x48.png?v=190925022706" sizes="48x48">
		<link rel="icon" type="image/png" href="../logo/android-chrome-72x72.png?v=190925022706" sizes="72x72">
		<link rel="icon" type="image/png" href="../logo/android-chrome-96x96.png?v=190925022706" sizes="96x96">
		<link rel="icon" type="image/png" href="../logo/android-chrome-144x144.png?v=190925022706" sizes="144x144">
		<link rel="icon" type="image/png" href="../logo/android-chrome-192x192.png?v=190925022706" sizes="192x192">
		<link rel="icon" type="image/png" href="../logo/favicon-16x16.png?v=190925022706" sizes="16x16">
		<link rel="icon" type="image/png" href="../logo/favicon-32x32.png?v=190925022706" sizes="32x32">
		<link rel="icon" type="image/png" href="../logo/favicon-96x96.png?v=190925022706" sizes="96x96">
		<link rel="shortcut icon" type="image/x-icon" href="../logo/favicon.ico?v=190925022706">
		<meta name="msapplication-TileImage" content="../logo/mstile-150x150.png?v=190925022706">
		<meta name="msapplication-square70x70logo" content="../logo/mstile-70x70.png?v=190925022706">
		<meta name="msapplication-square150x150logo" content="../logo/mstile-150x150.png?v=190925022706">
		<meta name="msapplication-wide310x150logo" content="../logo/mstile-310x150.png?v=190925022706">
		<meta name="msapplication-square310x310logo" content="../logo/mstile-310x310.png?v=190925022706">
		<link href="../logo/apple-touch-startup-image-320x460.png?v=190925022706" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-640x920.png?v=190925022706" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-640x1096.png?v=190925022706" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-748x1024.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: landscape)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-750x1024.png?v=190925022706" media="" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-750x1294.png?v=190925022706" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-768x1004.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: portrait)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1182x2208.png?v=190925022706" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1242x2148.png?v=190925022706" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1496x2048.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1536x2008.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image">
  
  <script src="../js_libraries/jquery-3.3.1.min.js"></script>

  <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"> </script> -->
  <script src="../js_libraries/tf.beautified.js"> </script>

  <!-- Import the data file -->
  <script src="data.js" type="module"></script>

  <!-- Import the main script file -->
  <script src="script.js" type="module"></script>
  
  <style>
  html, body{
	font-family: arial;
	padding: 0;
	margin: 0;
	width: 1023px;
	height: 767px;
	cursor: default;
  }
  
  #title{
	padding: 15px;
	background-color: #d5d5d5;
	font-size: 20pt;
	font-weight: bold;
	text-align: center;
  }
  
  #sidebar{
	height:100%;
	width: 226px;
	padding: 10px;
	vertical-align: top;
	text-align: center;
	background-color: #e9e9e9;
  }
  
  #canvasTitle{
	width: 224px;
	padding: 8px 0;
	border-top:black 1px solid;
	border-left:black 1px solid;
	border-right:black 1px solid;
	background-color: #ffffff;
  }
  
  #clearCanvas{
	width: 224px;
	padding: 8px 0;
	border:black 1px solid;
	background-color: #ffffff;
  }
  
  #clearCanvas:hover{
	background-color: #f5f5f5;
  }
  
  #probabilities{
	margin-top: 10px;
	width: 226px;
	padding: 8px 0;
	border:black 1px solid;
	background-color: #ffffff;
  }
  
  #probabilities td:first-child{
	padding-left: 10px;
  }
  
  .probability_column{
	height: 30px;
  }
  .bar_chart{
	background-color: #555555;
	height: 20px;
	display: inline-block;
  }
  
  #mainbar{
	vertical-align: top;
	overflow: auto;
  }
  
  #menuBar{
	padding-top: 10px;
	background-color: #e9e9e9;
  }
  
  .menuItem{
	display: inline-block;
	width: 150px;
	padding: 8px;
	border:black 1px solid;
	border-radius: 10px 10px 0 0;
	background-color: #ffffff;
  }
  
  .menuItem:hover{
	background-color: #f5f5f5;
  }
  
  .activeMenuItem{
	background-color: #e0e0e0 !important;
  }
  
  canvas{
	border:black 1px solid;
	background-color: white;
  }
  
  #mainContent{
	padding: 20px 0 0 20px;
  }
  
  #saveModel, #loadModel, #newModel, #trainModel{
	display: inline-block;
	padding: 8px;
	margin-bottom: 10px;
	border:black 1px solid;
	background-color: #ffffff;
	border-radius: 3px;
  }
  
  #saveModel:hover, #loadModel:hover, #newModel:hover, #trainModel:hover{
	background-color: #f5f5f5;
  }
  
  .architectureNode{
	padding: 8px;
	margin-bottom: 10px;
	border:black 1px solid;
	background-color: #ffffff;
  }
  
  .lastNode{
	margin-bottom: 0 !important;
  }
  
  .hiddenLayerOutputNode{
	padding: 8px;
	border:black 1px solid;
	background-color: #ffffff;
	border-radius: 8px;
	display: block;
	font-size: 11pt;
  }
  
  body > div:last-child {
    display: none !important;
  }
  
  #credit_mark{
	font-size: 8pt;
	padding: 0 15px;
	margin: 0;
	margin-top: 18px;
	color: gray;
  }
  
  #credit_mark a{
	color: gray;
  }
  </style>

</head>

<body>
<div id="title">Convolutional neural network for hand-written digit recognition</div>

<table cellspacing=0 cellpadding=0 style="width:1023px;height:706px;"><tr>

<td id="sidebar"><center>

<div id="canvasTitle">Input</div>
<canvas id="canvas" width="224" height="224" style="border: solid 1px #333;"></canvas><br>
<div id="clearCanvas">Clear</div>
<table id="probabilities" cellspacing=0>
<tr><td>0: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>1: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>2: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>3: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>4: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>5: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>6: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>7: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>8: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
<tr><td>9: </td><td class="probability_column"></td><td><div class="bar_chart"></div></td></tr>
</table>
<p id="credit_mark">by <a href="../">Elias Leon Foramitti</a></p>

</center></td>


<td id="mainbar">

<div id="menuBar">
<div class="menuItem activeMenuItem" id="menuArchitecture">Network architecture</div><div class="menuItem" id="menuHiddenLayerOutput">Hidden Layer Output</div><div class="menuItem" id="menuTrainingData">Training data</div><div class="menuItem" id="menuTraining">Training</div>
</div>

<div  id="mainContent">


<div id="training" style="display:none;">
<div id="saveModel">Save Model</div>
<div id="loadModel">Load Model</div>
<div id="newModel">Create Model</div><br>
Model Name: <input id="nameModel"><br>
<div id="modelState"></div>
<br>
<div id="trainModel">Train Model</div><br>
Epochs: <input type="number" id="trainingEpochs" value="1"><br>
Batch Size: <input type="number" id="trainingBatchSize" value="512"><br>
Training Data Size: <input type="number" id="trainingTrainDataSize" value="55000"><br>
<div id="trainingProgress"></div>
</div>

<div id="hiddenLayerOutput" style="display:none;">
<table>
	<tr><td class="hiddenLayerOutputNode">Input</td><td id="canvasWrapperInput"></td></tr>
	
	<tr><td style="height:30px;"></td></tr>
	
	<tr>
		<td class="hiddenLayerOutputNode">Convolution<br>
		Layer&nbsp;1<br>
		Kernels</td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
		<td class="canvasWrappers5"></td>
	</tr>

	<tr style="font-size:10pt;">
	<td></td>
	<td>reference:</td>
	<td>-1&nbsp;<div style="width:12px; height:12px; display:inline-block; vertical-align:middle; border:black 1px solid; background-color:#e1e1e1;"></div></td>
	<td>0&nbsp;<div style="width:12px; height:12px; display:inline-block; vertical-align:middle; border:black 1px solid; background-color:#808080;"></div></td>
	<td>1&nbsp;<div style="width:12px; height:12px; display:inline-block; vertical-align:middle; border:black 1px solid; background-color:#1e1e1e;"></div></td>
	</tr>

	<tr>
		<td class="hiddenLayerOutputNode">Convolution<br>
		Layer&nbsp;1</td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
		<td class="canvasWrappers0"></td>
	</tr>
	
	<tr><td style="height:10px;"></td></tr>

	<tr>
		<td class="hiddenLayerOutputNode">MaxPool<br>
		Layer&nbsp;2</td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
		<td class="canvasWrappers1"></td>
	</tr>
	
	<tr><td style="height:30px;"></td></tr>

	<tr>
		<td class="hiddenLayerOutputNode">Convolution<br>
		Layer&nbsp;3</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
		<td>
			<div class="canvasWrappers2"></div>
			<div class="canvasWrappers2"></div>
		</td>
	</tr>
	
	<tr><td style="height:10px;"></td></tr>
	
	<tr>
		<td class="hiddenLayerOutputNode">MaxPool<br>
		Layer&nbsp;4</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
		<td>
			<div class="canvasWrappers3"></div>
			<div class="canvasWrappers3"></div>
		</td>
	</tr>
</table>
</div>

<div id="trainingData" style="display:none;">
30 examples of the 60.000 training samples in the MNIST data set:<br>
<br>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
</div>

<div id="networkArchitecture">
<div class="architectureNode">
<b>Input</b><br>
28x28 pixels
</div>
<div class="architectureNode">
<b>Convolution 1</b><br>
8 filters each 5x5 pixel<br>
activation: ReLU<br>
output: 8 images each 24x24 pixel
</div>
<div class="architectureNode">
<b>MaxPool 2</b><br>
2x2 pixel segmentation<br>
output: 8 images each 12x12 pixel
</div>
<div class="architectureNode">
<b>Convolution 3</b><br>
16 filters each 5x5 pixel<br>
activation: ReLU<br>
output: 16 images each 8x8 pixel
</div>
<div class="architectureNode">
<b>MaxPool 4</b><br>
2x2 pixel segmentation<br>
output: 16 images each 4x4 pixel
</div>
<div class="architectureNode">
<b>Dense 5</b><br>
Full Connection (2560 weights)<br>
activation: softmax<br>
<b>output:</b> 10 neurons (values between 0 and 1)
</div>

<div class="architectureNode lastNode" style="margin-top: 20px;">
<b>Loss function:</b> Categorial Cross Entropy<br>
<b>Optimizer:</b> Adam
</div>
</div>


</div>

</td>

</tr></table>

</body>
</html>